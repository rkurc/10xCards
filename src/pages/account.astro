---
import BaseLayout from "../layouts/BaseLayout.astro";
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import Breadcrumb from "../components/navigation/Breadcrumb.astro";
import AstroAuthGuard from "../components/auth/AstroAuthGuard.astro";
import ProfileContent from "../components/auth/ProfileContent";

// Disable pre-rendering to ensure auth state is always current
export const prerender = false;
---

<AstroAuthGuard>
  <BaseLayout title="Konto użytkownika">
    <div class="container mx-auto py-8 px-4">
      <Breadcrumb
        items={[
          { label: "Dashboard", href: "/dashboard" },
          { label: "Konto użytkownika", href: "/account" },
        ]}
      />

      <h1 class="text-3xl font-bold tracking-tight mb-6">Ustawienia konta</h1>

      <!-- Use client-side React component for interactive profile elements -->
      <ProfileContent client:load />
    </div>
  </BaseLayout>
</AstroAuthGuard>

---
import BaseLayout from "../../layouts/BaseLayout.astro";
import DashboardContent from "../../components/dashboard/DashboardContent";
import { checkAuth } from "../../utils/auth";

// Authentication check - add debug logging

const user = await checkAuth(Astro);

if (!user) {
  return Astro.redirect("/login?redirect=/dashboard");
}
---

<BaseLayout title="Dashboard | 10xCards">
  <div class="container mx-auto py-8">
    <DashboardContent client:load />
  </div>
</BaseLayout>
